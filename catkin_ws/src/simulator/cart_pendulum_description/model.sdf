<?xml version="1.0"?>

<sdf version='1.7'>
    <model name="pendulum">
        <pose>0 0 0 0 0 0</pose>
        <static>false</static>

        <link name="rail">
            <pose>0 0 0.05 0 0 0</pose>

            <!--We use some large inertial values to prevent the base from moving-->
            <inertial>
                <pose>0 0 0 0 0 0</pose>
                <mass>10000</mass>
                <inertia>
                <ixx>10000</ixx>
                <ixy>0</ixy>
                <ixz>0</ixz>
                <iyy>10000</iyy>
                <iyz>0.0</iyz>
                <izz>10000</izz>
                </inertia>
            </inertial>

            <visual name="rail_visual">
                <pose>0 0 1.05 0 0 0</pose>
                <geometry>
                    <box>
                        <size>10.0 0.3 0.1</size>
                    </box>
                </geometry>
            </visual>
            <collision name="rail_collision">
                <pose>0 0 0.0 0 0 0</pose>
                <geometry>
                    <box>
                        <size>10.0 0.3 0.1</size>
                    </box>
                </geometry>
            </collision>
        </link>

        <link name="cart">
            <pose>0 0 1.15 0 0 0</pose>
            <inertial>
                <pose>0 0 0 0 0 0</pose>
                <mass>1.0</mass>
                <inertia>
                    <ixx>0.1</ixx>
                    <ixy>0</ixy>
                    <ixz>0</ixz>
                    <iyy>0.1</iyy>
                    <iyz>0.0</iyz>
                    <izz>0.1</izz>
                </inertia>
            </inertial>
            <visual name="cart_visual">
                <pose>0 0 0 0 0 0</pose>
                <geometry>
                    <box>
                        <size>0.5 0.3 0.1</size>
                    </box>
                </geometry>
            </visual>
            <collision name="cart_collision">
                <pose>0 0 0 0 0 0</pose>
                <geometry>
                    <box>
                        <size>0.5 0.3 0.1</size>
                    </box>
                </geometry>
            </collision>
        </link>

        <joint name="rail_to_cart_joint" type="prismatic">
            <pose>0 0 0 0 0 0</pose>

            <parent>rail</parent>
            <child>cart</child>

            <axis>
                <xyz>1 0 0</xyz>
                <limit>
                    <lower>-1000</lower>
                    <upper>1000</upper>
                    <effort>100</effort>
                    <velocity>100</velocity>
                </limit>
            </axis>
        </joint>

        <link name="pendulum">
            <pose>0 -0.15 1.125 0 0 0</pose>
            <inertial>
                <pose>0 0 -1 0 0 0</pose>
                <mass>1</mass>
                <inertia>
                <ixx>1</ixx>
                <ixy>0</ixy>
                <ixz>0</ixz>
                <iyy>1</iyy>
                <iyz>0.0</iyz>
                <izz>1</izz>
                </inertia>
            </inertial>

            <visual name="pendulum_visual">
                <pose>0 0 -0.5 0 0 0</pose>
                <geometry>
                    <box>
                        <size>0.01 0.01 1.0</size>
                    </box>
                </geometry>
            </visual>
            <visual name="pendulum_ball_visual">
                <pose>0 0 -1.0 0 0 0</pose>
                <geometry>
                    <sphere>
                        <radius>0.05</radius>
                    </sphere>
                </geometry>
            </visual>
        </link>

        <joint name="cart_to_pendulum_joint" type="revolute">
            <pose>0 0 0 0 0 0</pose> 
            <parent>cart</parent>
            <child>pendulum</child>
            <axis>
                <xyz>0 1 0</xyz>
                <lower>-6.14</lower>
                <upper>6.14</upper>
            </axis>
        </joint>       
    </model>
</sdf>